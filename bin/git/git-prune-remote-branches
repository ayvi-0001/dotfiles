#!/usr/bin/env bash

set -euo pipefail

git fetch -p &>/dev/null \
  && git branch -r \
  | awk '{print $1}' \
  | grep -E -v -f /dev/fd/0 <(git branch -vv | grep ': gone]') \
  | awk '{print $1}' \
  | awk '!/^[[:blank:]]*\+/' \
  | xargs git branch -D

exit 0
